<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Player.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Milestone</a> &gt; <a href="index.source.html" class="el_package">ghost</a> &gt; <span class="el_source">Player.java</span></div><h1>Player.java</h1><pre class="source lang-java linenums">package ghost;

import processing.core.PApplet;
import processing.core.PImage;
import processing.core.PApplet;
import processing.core.PImage;
import java.awt.*;
import java.awt.event.*;
import java.util.*;
import java.io.*;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.Iterator;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;
import java.io.FileWriter;
import java.lang.Object;
public class Player{
    private int x;
    private int y;
    private int xVel;
    private int yVel;
    private int xr;
    private int yr;
    private PImage image;

    public PImage downleft;
    public PImage downright;
    public PImage fruit;
    public PImage vertical;
    public PImage upright;
    public PImage upleft;
    public PImage ghost;
    public PImage horizontal;
    public PImage playerleft;
    public PImage playerclosed;
    public PImage playerup;
    public PImage playerdown;
    public PImage playerright;
    public PImage superfruit;
<span class="fc" id="L44">    public Player(int x,int y,int xVel,int yVel,PImage image,PImage downleft,PImage downright,PImage fruit,PImage vertical,PImage upright,PImage upleft,PImage ghost,PImage horizontal,PImage playerclosed,PImage playerup,PImage playerleft,PImage playerdown,PImage playerright,PImage superfruit){</span>
<span class="fc" id="L45">        this.x=x;</span>
<span class="fc" id="L46">        this.y=y;</span>
<span class="fc" id="L47">        this.xVel=xVel;</span>
<span class="fc" id="L48">        this.yVel=yVel;</span>
<span class="fc" id="L49">        this.xr=x;</span>
<span class="fc" id="L50">        this.yr=y;</span>
<span class="fc" id="L51">        this.image=image;</span>
<span class="fc" id="L52">        this.downleft= downleft;</span>
<span class="fc" id="L53">        this.downright= downright;</span>
<span class="fc" id="L54">        this.fruit= fruit;</span>
<span class="fc" id="L55">        this.vertical= vertical;</span>
<span class="fc" id="L56">        this.upright= upright;</span>
<span class="fc" id="L57">        this.upleft= upleft;</span>
<span class="fc" id="L58">        this.ghost= ghost;</span>
<span class="fc" id="L59">        this.horizontal= horizontal;</span>
<span class="fc" id="L60">        this.playerclosed= playerclosed;</span>
<span class="fc" id="L61">        this.playerup= playerup;</span>
<span class="fc" id="L62">        this.playerleft=playerleft;</span>
<span class="fc" id="L63">        this.playerdown= playerdown;</span>
<span class="fc" id="L64">        this.playerright=playerright;</span>
<span class="fc" id="L65">        this.superfruit=superfruit;</span>
<span class="fc" id="L66">    }</span>
    public void tickxu(){
<span class="fc" id="L68">        this.x += this.xVel;</span>
<span class="fc" id="L69">    }</span>
    public void tickxd(){
<span class="fc" id="L71">        this.x -= this.xVel;</span>
<span class="fc" id="L72">    }</span>
    public void tickyu(){
<span class="fc" id="L74">        this.y += this.yVel;</span>
<span class="fc" id="L75">    }</span>
    public void tickyd(){
<span class="fc" id="L77">        this.y -= this.yVel;</span>
<span class="fc" id="L78">    }</span>
    public void setimage(PImage imagea){
<span class="fc" id="L80">        image=imagea;</span>
<span class="fc" id="L81">    }</span>
    public void draw(PApplet app){
<span class="nc" id="L83">        app.image(this.image,this.x,this.y);</span>
<span class="nc" id="L84">    }</span>
    public void reset(){
<span class="fc" id="L86">        this.x=this.xr;</span>
<span class="fc" id="L87">        this.y=this.yr;</span>
<span class="fc" id="L88">        this.image=this.playerclosed;</span>
<span class="fc" id="L89">    }</span>
    public int getx(){
<span class="fc" id="L91">        return x;</span>
    }
    public int gety(){
<span class="fc" id="L94">        return y;</span>
    }









    public int direct(int ed,int d,ArrayList&lt;String&gt; maparray){
<span class="pc bpc" id="L106" title="1 of 2 branches missed.">        if(d==38){</span>
<span class="nc bnc" id="L107" title="All 4 branches missed.">            if(ed==37 &amp;&amp; y%16==0 ){</span>
<span class="nc bnc" id="L108" title="All 8 branches missed.">                if(x%16==0 &amp;&amp; (maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;7&quot;) ||maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;8&quot;)  || maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;0&quot;))){</span>
<span class="nc" id="L109">                    d=37;</span>
<span class="nc bnc" id="L110" title="All 2 branches missed.">                }else if(x%16!=0 ){</span>
<span class="nc" id="L111">                    d=37;</span>
                }

<span class="nc bnc" id="L114" title="All 4 branches missed.">            }else if(ed==39 &amp;&amp; y%16==0 ){</span>
<span class="nc bnc" id="L115" title="All 8 branches missed.">                if(x%16==0 &amp;&amp; (maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;7&quot;)||maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;8&quot;)  || maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;0&quot;))){</span>
<span class="nc" id="L116">                    d=39;</span>
<span class="nc bnc" id="L117" title="All 2 branches missed.">                }else if(x%16!=0 ){</span>
<span class="nc" id="L118">                    d=39;</span>
                }
<span class="nc bnc" id="L120" title="All 4 branches missed.">            }else if(ed==40 &amp;&amp; x%16==0){</span>
<span class="nc bnc" id="L121" title="All 8 branches missed.">                if(y%16==0 &amp;&amp; (maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;7&quot;)||maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;8&quot;) || maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;0&quot;))){</span>
<span class="nc" id="L122">                    d=40;</span>
<span class="nc bnc" id="L123" title="All 2 branches missed.">                }else if(y%16!=0){</span>
<span class="nc" id="L124">                    d=40;</span>
                }
            }
<span class="pc bpc" id="L127" title="1 of 2 branches missed.">        }else if(d==40){</span>
<span class="nc bnc" id="L128" title="All 4 branches missed.">            if(ed==37 &amp;&amp; y%16==0 ){</span>
<span class="nc bnc" id="L129" title="All 8 branches missed.">                if(x%16==0 &amp;&amp; (maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;7&quot;)||maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;8&quot;) || maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;0&quot;))){</span>
<span class="nc" id="L130">                    d=37;</span>
<span class="nc bnc" id="L131" title="All 2 branches missed.">                }else if(x%16!=0 ){</span>
<span class="nc" id="L132">                    d=37;</span>
                }
<span class="nc bnc" id="L134" title="All 4 branches missed.">            }else if(ed==39 &amp;&amp; y%16==0 ){</span>
<span class="nc bnc" id="L135" title="All 8 branches missed.">                if(x%16==0 &amp;&amp; (maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;7&quot;)|| maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;8&quot;) || maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;0&quot;))){</span>
<span class="nc" id="L136">                    d=39;</span>
<span class="nc bnc" id="L137" title="All 2 branches missed.">                }else if(x%16!=0 ){</span>
<span class="nc" id="L138">                    d=39;</span>
                }
<span class="nc bnc" id="L140" title="All 4 branches missed.">            }else if(ed==38 &amp;&amp; x%16==0){</span>
<span class="nc bnc" id="L141" title="All 8 branches missed.">                if(y%16==0 &amp;&amp; (maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;7&quot;)||maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;8&quot;)||maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;0&quot;))){</span>
<span class="nc" id="L142">                    d=38;</span>
<span class="nc bnc" id="L143" title="All 2 branches missed.">                }else if(y%16!=0){</span>
<span class="nc" id="L144">                    d=38;</span>
                }
            }
<span class="pc bpc" id="L147" title="1 of 2 branches missed.">        }else if(d==37){</span>
<span class="pc bpc" id="L148" title="3 of 4 branches missed.">            if(ed==40 &amp;&amp; x%16==0){</span>
<span class="nc bnc" id="L149" title="All 8 branches missed.">                if(y%16==0 &amp;&amp; (maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;7&quot;)||maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;8&quot;) || maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;0&quot;))){</span>
<span class="nc" id="L150">                    d=40;</span>
<span class="nc bnc" id="L151" title="All 2 branches missed.">                }else if(y%16!=0){</span>
<span class="nc" id="L152">                    d=40;</span>
                }
<span class="pc bpc" id="L154" title="3 of 4 branches missed.">            }else if(ed==39 &amp;&amp; y%16==0 ){</span>
<span class="nc bnc" id="L155" title="All 8 branches missed.">                if(x%16==0 &amp;&amp; (maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;7&quot;)||maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;8&quot;) || maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;0&quot;))){</span>
<span class="nc" id="L156">                    d=39;</span>
<span class="nc bnc" id="L157" title="All 2 branches missed.">                }else if(x%16!=0 ){</span>
<span class="nc" id="L158">                    d=39;</span>
                }
<span class="pc bpc" id="L160" title="2 of 4 branches missed.">            }else if(ed==38 &amp;&amp; x%16==0){</span>
<span class="pc bpc" id="L161" title="4 of 8 branches missed.">                if(y%16==0 &amp;&amp; (maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;7&quot;)||maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;8&quot;)||maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;0&quot;))){</span>
<span class="nc" id="L162">                    d=38;</span>
<span class="pc bpc" id="L163" title="1 of 2 branches missed.">                }else if(y%16!=0){</span>
<span class="nc" id="L164">                    d=38;</span>
                }
            }
<span class="nc bnc" id="L167" title="All 2 branches missed.">        }else if(d==39){</span>
<span class="nc bnc" id="L168" title="All 4 branches missed.">            if(ed==40 &amp;&amp; x%16==0){</span>
<span class="nc bnc" id="L169" title="All 8 branches missed.">                if(y%16==0 &amp;&amp; (maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;7&quot;)||maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;8&quot;) || maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;0&quot;))){</span>
<span class="nc" id="L170">                    d=40;</span>
<span class="nc bnc" id="L171" title="All 2 branches missed.">                }else if(y%16!=0){</span>
<span class="nc" id="L172">                    d=40;</span>
                }
<span class="nc bnc" id="L174" title="All 4 branches missed.">            }else if(ed==37 &amp;&amp; y%16==0 ){</span>
<span class="nc bnc" id="L175" title="All 8 branches missed.">                if(x%16==0 &amp;&amp; (maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;7&quot;) ||maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;8&quot;) || maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;0&quot;))){</span>
<span class="nc" id="L176">                    d=37;</span>
<span class="nc bnc" id="L177" title="All 2 branches missed.">                }else if(x%16!=0 ){</span>
<span class="nc" id="L178">                    d=37;</span>
                }
<span class="nc bnc" id="L180" title="All 4 branches missed.">            }else if(ed==38 &amp;&amp; x%16==0){</span>
<span class="nc bnc" id="L181" title="All 8 branches missed.">                if(y%16==0 &amp;&amp; (maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;7&quot;)||maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;8&quot;)||maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;0&quot;))){</span>
<span class="nc" id="L182">                    d=38;</span>
<span class="nc bnc" id="L183" title="All 2 branches missed.">                }else if(y%16!=0){</span>
<span class="nc" id="L184">                    d=38;</span>
                }
            }
<span class="nc bnc" id="L187" title="All 2 branches missed.">        }else if(d==0){</span>
<span class="nc bnc" id="L188" title="All 4 branches missed.">             if(ed==40 &amp;&amp; x%16==0){</span>
<span class="nc bnc" id="L189" title="All 8 branches missed.">                if(y%16==0 &amp;&amp; (maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;7&quot;) || maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;8&quot;) ||maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;0&quot;))){</span>
<span class="nc" id="L190">                    d=40;</span>
<span class="nc bnc" id="L191" title="All 2 branches missed.">                }else if(y%16!=0){</span>
<span class="nc" id="L192">                    d=40;</span>
                }
<span class="nc bnc" id="L194" title="All 4 branches missed.">            }else if(ed==37 &amp;&amp; y%16==0 ){</span>
<span class="nc bnc" id="L195" title="All 8 branches missed.">                if(x%16==0 &amp;&amp; (maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;7&quot;) || maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;8&quot;) ||maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;0&quot;))){</span>
<span class="nc" id="L196">                    d=37;</span>
<span class="nc bnc" id="L197" title="All 2 branches missed.">                }else if(x%16!=0 ){</span>
<span class="nc" id="L198">                    d=37;</span>
                }
<span class="nc bnc" id="L200" title="All 4 branches missed.">            }else if(ed==38 &amp;&amp; x%16==0){</span>
<span class="nc bnc" id="L201" title="All 8 branches missed.">                if(y%16==0 &amp;&amp; (maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;7&quot;)||maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;8&quot;)||maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;0&quot;))){</span>
<span class="nc" id="L202">                    d=38;</span>
<span class="nc bnc" id="L203" title="All 2 branches missed.">                }else if(y%16!=0){</span>
<span class="nc" id="L204">                    d=38;</span>
                }
<span class="nc bnc" id="L206" title="All 4 branches missed.">            }else if(ed==39 &amp;&amp; y%16==0 ){</span>
<span class="nc bnc" id="L207" title="All 8 branches missed.">                if(x%16==0 &amp;&amp; (maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;7&quot;) ||maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;8&quot;) || maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;0&quot;))){</span>
<span class="nc" id="L208">                    d=39;</span>
<span class="nc bnc" id="L209" title="All 2 branches missed.">                }else if(x%16!=0 ){</span>
<span class="nc" id="L210">                    d=39;</span>
                }
            }
        }
<span class="fc" id="L214">        return d;</span>
    }
    public void move(int d,ArrayList&lt;String&gt; maparray ){
<span class="pc bpc" id="L217" title="1 of 2 branches missed.">        if(d==37){</span>
<span class="pc bpc" id="L218" title="6 of 8 branches missed.">            if(x%16==0 &amp;&amp; (maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;7&quot;) ||maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;8&quot;) || maparray.get(y/16).substring(x/16-1,x/16).equals(&quot;0&quot;))){</span>
<span class="fc" id="L219">                this.tickxd();</span>
<span class="nc bnc" id="L220" title="All 2 branches missed.">            }else if(x%16!=0 ){</span>
<span class="nc" id="L221">                this.tickxd();</span>
            }
<span class="nc bnc" id="L223" title="All 2 branches missed.">        }else if(d==39){</span>
<span class="nc bnc" id="L224" title="All 8 branches missed.">            if(x%16==0 &amp;&amp; (maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;7&quot;) || maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;8&quot;) || maparray.get(y/16).substring(x/16+1,x/16+2).equals(&quot;0&quot;))){</span>
<span class="nc" id="L225">                this.tickxu();</span>
<span class="nc bnc" id="L226" title="All 2 branches missed.">            }else if(x%16!=0 ){</span>
<span class="nc" id="L227">                this.tickxu();</span>
            }
<span class="nc bnc" id="L229" title="All 2 branches missed.">        }else if(d==38){</span>
<span class="nc bnc" id="L230" title="All 8 branches missed.">            if(y%16==0 &amp;&amp; (maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;7&quot;)||maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;8&quot;)||maparray.get(y/16-1).substring(x/16,x/16+1).equals(&quot;0&quot;))){</span>
<span class="nc" id="L231">                this.tickyd();</span>
<span class="nc bnc" id="L232" title="All 2 branches missed.">            }else if(y%16!=0){</span>
<span class="nc" id="L233">                this.tickyd();</span>
            }
<span class="nc bnc" id="L235" title="All 2 branches missed.">        }else if(d==40){</span>
<span class="nc bnc" id="L236" title="All 8 branches missed.">            if(x%16==0 &amp;&amp; (maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;7&quot;) ||maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;8&quot;) || maparray.get(y/16+1).substring(x/16,x/16+1).equals(&quot;0&quot;))){</span>
<span class="nc" id="L237">                this.tickyu();</span>
<span class="nc bnc" id="L238" title="All 2 branches missed.">            }else if(x%16!=0 ){</span>
<span class="nc" id="L239">                this.tickyu();</span>
            }
        }
<span class="fc" id="L242">    }</span>
    public void playerchange(int x,int d){
<span class="fc bfc" id="L244" title="All 2 branches covered.">        if((x/8)%2==0){</span>
<span class="fc" id="L245">            this.setimage(this.playerclosed);</span>
        }else{
<span class="pc bpc" id="L247" title="1 of 2 branches missed.">            if(d==37){</span>
<span class="fc" id="L248">                this.setimage(this.playerleft);</span>
<span class="nc bnc" id="L249" title="All 2 branches missed.">            }else if(d==38){</span>
<span class="nc" id="L250">                this.setimage(this.playerup);</span>
<span class="nc bnc" id="L251" title="All 2 branches missed.">            }else if(d==39){</span>
<span class="nc" id="L252">                this.setimage(this.playerright);</span>
<span class="nc bnc" id="L253" title="All 2 branches missed.">            }else if(d==40){</span>
<span class="nc" id="L254">                this.setimage(this.playerdown);</span>
            }else{
<span class="nc" id="L256">                this.setimage(this.playerclosed);</span>
            }
        }
<span class="fc" id="L259">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>